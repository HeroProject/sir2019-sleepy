# Should match the dialogflow name
name: favorite_animal

# Pre-talk (like asking the question)
pre_talk: "I would like to get to know each other better. What is your favorite animal?"
pre_gesture: ""

# Listen and lock timeout
listen_timeout: 5
lock_timeout: 1

# Use [input] to replace the word Nao found
# Use [dialogflow name] to replace the word with early recorded item
# e.g. dialogflow intent is answer_name and this dialog is recorded as Mike
# then [answer_name] will result in Mike
# You can give more options.
# First option that satisfies the regular expression, will be used.
# match is in regular expression, (.?) means any character

catch_success:
  - option:
    # when gorilla
    match: ^([Gg]orill.+)
    true:
       talk: "Nice animal, [answer_name]! I like [input] too! "
       goto: "read_story.yaml"
       gesture: "animals/gorilla"

  - option:
    # when fish
    match: ^([Ff]is.+)
    true:
       talk: "Nice animal, [answer_name]! Blub I am a fish"
       goto: "read_story.yaml"
       gesture: "animals/vacuum"

  - option:
    # All others
    match: (.?)
    true:
       talk: "Nice animal, [answer_name]! I like [input] too"
       goto: "read_story.yaml"
       gesture: "animals/elephant"

catch_fail_recognize:
  talk: "Sorry, I didn't catch your answer."
  gesture: ""

  max_tries: 3
  max_tries_goto: "read_story.yaml"
