# Should match the dialogflow name
name: favorite_animal

# Pre-talk (like asking the question)
pre_talk: "I would like to get to know each other better [answer_name]. What is your favorite animal?"
pre_gesture: ""

# Listen and lock timeout
listen_timeout: 5
lock_timeout: 1

# Use [input] to replace the word Nao found
# Use [dialogflow name] to replace the word with early recorded item
# e.g. dialogflow intent is answer_name and this dialog is recorded as Mike
# then [answer_name] will result in Mike
# You can give more options.
# First option that satisfies the regular expression, will be used.
# match is in regular expression, (.?) means any character

catch_success:
  - option:
    # when gorilla
    match: ^([Gg]orill.+)
    true:
       talk: "Nice animal, [answer_name]! Look at me I am a [input], king of the jungle!"
       goto: "read_story.yaml"
       gesture: "animals/gorilla"

  - option:
    # when gorilla
    match: ^([Mm]onke.+)
    true:
       talk: "Nice animal, [answer_name]! Look at me I am a [input], king of the jungle!"
       goto: "read_story.yaml"
       gesture: "animals/gorilla"

  - option:
    # when fish
    match: ^([Ff]is.+)
    true:
       talk: "Nice animal, [answer_name]! Blub I am a fish, blub, blub."
       goto: "read_story.yaml"
       gesture: "animals/vacuum"
       post_talk: "Blubbety blub blub [answer_name], how you like my fish, eh?"

  - option:
    # when elephant
    match: ^([Ee]leph.+)
    true:
       talk: "Nice animal, [answer_name]! I like [input] too. I know how to act like the friendly elephant, look!"
       goto: "read_story.yaml"
       gesture: "animals/elephant"
  - option:
    # when elephant
    match: ^([Mm]ous.+)
    true:
       talk: "Nice animal, [answer_name]! I like [input] too. I know how to act like a teeny, tiny, cute little rodent too, look!"
       goto: "read_story.yaml"
       gesture: "animals/mouse"
  - option:
    # Others
    match: (.?)
    true:
       talk: "Nice animal, [answer_name]! I like [input] too"
       goto: "read_story.yaml"
       gesture: "animals/elephant"

catch_fail_recognize:
  talk: "Sorry, I didn't catch your answer."
  gesture: ""

  max_tries: 3
  max_tries_goto: "read_story.yaml"
